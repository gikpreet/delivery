= HPC 관점에서 본 Azure 보안
:sectnums:
:toc:

고성능 컴퓨팅은 대규모 연산 자원과 방대한 데이터를 활용하므로, 보안은 HPC 환경의 성능만큼 중요한 요소입니다. 특히 클라우드 HPC는 다중 태넌트 환경에서 운영되므로, 전통적 온프레미스 HPC보다 데이터 보호, 접근 제어, 규제 준수에 대한 보안 요구가 더 엄격합니다. Microsoft Azure는 이러한 요구를 충족하기 위해 HPC 환경에 특화된 다계층 보안 모델을 제공합니다.

== 네트워크 보안

=== 가상 네트워크(Virtual Network) 격리

Azure Virtual Network(VNet)은 Azure 클라우드에서 제공하는 논리적 네트워크 격리 서비스로, 클라우드 환경에서 가상의 사설 네트워크를 구축할 수 있도록 합니다. VNet은 온프레미스 네트워크의 개념과 유사하게 IP 주소 공간, 서브넷, 라우팅, 네트워크 보안 규칙 등을 정의할 수 있으며, 이를 통해 클라우드 내의 자원을 안전하게 분리하고 연결할 수 있습니다.

주요 특징은 다음과 같습니다.

* 리소스 격리 +
각 VNet은 다른 VNet 및 외부 네트워크와 기본적으로 격리되어 독립적인 네트워크 환경을 제공합니다.
* 보안 제어: 네트워크 보안 그룹(NSG)을 활용하여 인바운드·아웃바운드 트래픽을 제어할 수 있습니다.
* 연결성 확장: VNet 간 피어링, VPN Gateway, ExpressRoute 등을 통해 온프레미스 데이터센터나 다른 클라우드 네트워크와 안전하게 연결할 수 있습니다.
* 서비스 통합: Azure Storage, SQL Database 같은 PaaS 서비스와 Private Link/Private Endpoint를 통해 안전하게 연결 가능합니다.

=== 고속 네트워크와 보안

고성능 컴퓨팅(HPC, High Performance Computing) 워크로드는 수많은 컴퓨트 노드 간의 빠른 데이터 교환을 전제로 하며, 네트워크의 지연(latency), 대역폭(bandwidth), 안정성이 연산 성능을 좌우합니다. Microsoft Azure는 이러한 요구를 충족하기 위해 HPC 전용 가상 머신(VM)과 함께 초저지연·고대역폭 네트워킹 인프라를 제공합니다.

* Azure의 HPC VM 시리즈(HB, HC, ND 등)는 Mellanox InfiniBand 어댑터를 탑재하여, 최대 200Gbps로 데이터를 전송합니다
* RDMA(Remote Direct Memory Access)를 지원하여 CPU 개입 없이 메모리 간 직접 데이터 전송 가능
* 지연 시간은 마이크로초(µs) 단위로 줄어들어, 대규모 병렬 애플리케이션(MPI 기반 워크로드)에 최적화.

Azure HPC 고속 네트워크는 InfiniBand + RDMA 기반 초저지연 통신과 고대역폭 데이터 전송을 바탕으로, 클라우드에서도 온프레미스 슈퍼컴퓨터와 동등한 성능을 제공합니다. 또한 VNet 기반 보안 모델, Private Link 통합, MPI 최적화 등을 통해 성능·보안·확장성을 동시에 만족시킬 수 있습니다

== 데이터 보안

Azure HPC 데이터 보안은 크게 저장 데이터 보호(At-Rest), 전송 데이터 보호(In-Transit), 사용 중 데이터 보호(In-Use), 접근 제어, 규제 준수로 구분할 수 있습니다.

=== 저장 데이터 보호(At-Rest Encryption)

고성능 컴퓨팅(HPC) 환경에서는 대규모 연산과 시뮬레이션이 수반되므로, 결과 데이터와 중간 산출물, 그리고 입력 데이터가 모두 민감하고 중요합니다. 따라서 저장 데이터 보호(At-Rest Data Protection)는 HPC 환경에서 가장 기본적이면서도 핵심적인 보안 계층입니다.

Azure HPC는 저장 데이터 보호를 위해 암호화, 키 관리, 스토리지 계층 통합, 접근 통제 등 다중 계층 방식을 제공합니다.

* 데이터 암호화 +
AES 256-bit 암호화를 기본으로 적용하여 저장된 데이터가 외부로 유출되더라도 안전하게 보호되며, HPC VM에서 사용되는 HPC Cache, Azure Storage, 병렬 파일 시스템(Lustre, GPFS 등)의 모든 데이터는 자동으로 암호화됩니다. 암호화는 데이터 블록 단위로 처리되며, 읽기/쓰기 요청시 CPU 부하를 최소화하도록 최적화되어 있습니다.
* 키 관리 +
Microsoft Azure는 MMK(Microsoft Managed Key - Microsoft 관리 키)와 CMK(Customer Managed Key - 고객 관리 키)를 모두 지원합니다. MMK를 사용하면 Azure에서 자동으로 키를 관리하여 운영부담이 최소화되지만, 사용자 정의 보안 규제와 정책을 만족하지 않을 수 있습니다. CMK를 사용하면 HPC 환경에서 생성되는 모든 저장 데이터가 고객 지정 키로 암호화되어 고객이 완전히 동체할 수 있습니다.
* HPC Cache와 데이터 보호 +
HPC 워크로드는 대용량 데이터 읽기/쓰기가 빈번하므로, HPC Cache를 사용하여 온프레미스 또는 클라우드 스토리지와 데이터 계층을 연결합니다. HPC Cache에 저장되는 데이터도 암호화되어, VNet 내 전용 서브넷과 NSG(Network Security Group)으로 접근을 제한하여 외부 노출을 방지합니다. 캐시 계층에서 처리되는 중간 데이터 역시 At-Rest 암호화가 적용되므로, 성능과 보안을 동시에 확보할 수 있습니다.
* 접근 통제 및 감사 +
저장 데이터에 대한 접근은 Azure AD 기반 인증과 RBAC(Role-based Access Control)을 통해 엄격하게 제어됩니다. 사용자는 최소 권한 원칙(Least Privilege)을 적용받아, 필요한 데이터에만 접근 가능합니다. 데이터 접근 로그는 Azure Monitor 또는 Log Analytics를 통해 수집되어, 감사 및 침해 대응에 활용됩니다.

=== 전송 데이터 보호(In-Transit Encryption)

HPC 환경에서는 수천에서 수만 개의 컴퓨트 노드가 동시에 데이터를 주고받으며 계산을 수행합니다. 이 과정에서 데이터가 이동하는 전송 경로(노드 간, 클러스터 ↔ 스토리지, 클러스터 ↔ 관리 시스템)는 외부 공격, 도청, 변조 등의 위협에 노출될 수 있습니다. 따라서 전송 데이터 보호는 HPC 성능과 보안 모두에 중요한 요소입니다.

Microsoft Azure는

. 무결성(Integrity): 전송 중 데이터가 변조되지 않도록 보호
. 기밀성(Confidentiality): 전송 데이터가 외부에서 읽히지 않도록 암호화
. 인증(Authentication): 통신하는 엔드포인트가 신뢰할 수 있는 자원임을 확인

세 가지 기본 원칙을 네트워크 계층과 애플리케이션 계층에서 동시에 적용하여 전송 데이터를 보호합니다.

* TLS/SSL 기반 암호화 +
Azure HPC에서 TCP/IP 기반 전송은 TLS(Transport Layer Security) 또는 SSL(Secure Socket Layer)을 적용하여 암호화됩니다. 클러스터와 Azure Storage, 관리 서버, HPC Cache간 전송 데이터가 암호화되어 중간자 공격(MITM) 위험을 방지합니다.
* RDMA/InfiniBand 통신 암호화 +
HPC VM에서는 RDMA(Remote Direct Memory Access) 기반 InfiniBand 네트워크를 사용하여 초저지연 통신을 수행합니다. RDMA 자체는 메모리 직접 접근을 허용하므로 고속 전송이 가능하지만, 기본적으로 전송 암호화가 적용되지 않습니다. 따라서 민감 데이터가 포함된 워크로드에서는 애플리케이션 수준 암호화 또는 컨피덴셜 컴퓨팅을 통해 in-transit 보안을 강화해야 합니다.

=== 컨피덴셜 컴퓨팅(Confidential Computing)

민감한 데이터의 처리시에는 메모리상에서도 보호가 필요합니다. Microsoft Azure에서는 컨피델셜 컴퓨팅을 위해 Intel SGX, AMD SEV-SNP 기반 TEEs(Trusted Execution Environment)를 제공하여 HPC 노드에서 데이터가 메모리에서 처리되는 동안 암호화를 유지하도록 할 수 있습니다.

https://learn.microsoft.com/ko-kr/azure/confidential-computing/overview[기밀 컴퓨팅이란?]

== 접근 제어 및 아이덴티티 관리

Azure HPC 환경에서 접근 제어와 아이덴티티 관리는 데이터와 연산 자원에 대한 불법적 접근을 차단하고, 사용자 권한을 효율적으로 관리하는 핵심 요소입니다.

1. 아이덴티티 관리(Identity Management) +
Azure Active Directory(Azure AD)를 중심으로 사용자 및 그룹을 관리합니다. 조직 계정, 외부 협력자 계정까지 관리할 수 있으며, SSO, MFA, 조건부 액세스를 통해 보안 수준을 강화합니다.
2. 접근 제어(Access Control) +
RBAC을 활용하여 HPC 클러스터, 스토리지, 네트워크 자원에 대해 최소 권한 원칙(Least Privilege)을 적용합니다. 관리자는 특정 사용자에게 읽기, 쓰기, 실행과 같은 역할을 세분화에 부여할 수 있으며, 중요한 데이터나 연산 자원은 네트워크 보안 그룹(NSG) 및 VNet 규칙을 결합하여 이중으로 보호할 수 있습니다.

== 운영 및 관리 보안

Azure HPC 환경의 운영 및 관리 보안은 시스템의 안정적 운영과 데이터 기밀성 보장을 위해 필수적입니다. 관리자는 RBAC과 Azure AD를 통해 운영 권한을 세분화하여 최소 권한 원칙을 적용합니다. 이를 통해 관리 계정 남용을 방지하고, 다중 인증(MFA)으로 관리자 계정 보안을 강화합니다.

또한, 운영 중에는 Azure Monitor와 Log Analytics를 활용하여 시스템 상태와 보안 이벤트를 지속적으로 모니터링하며, Azure Security Center를 통해 취약점 점검 및 보안 권고 사항을 반영합니다. 관리 네트워크는 전용 VNet, 네트워크 보안 그룹(NSG), VPN/ExpressRoute를 통해 외부 위협으로 부터 격리합니다.

마지막으로, 정기적인 보안 패치 적용, 접근 권한 검토, 규정 준수 감사를 통해 운영 보안을 강화하고, 보안 사고 발생 시 자동 대응 및 복구 프로세스를 마련하여 HPC 환경의 연속성과 안정성을 보장합니다.

== 규제 준수

Azure HPC 환경에서 규제 준수는 데이터 보안과 개인 정보 보호, 산업 및 법적 기준 준수를 보장하기 위한 핵심 요소입니다. HPC 환경에서 처리되는 데이터는 연구, 금융, 의료 등 민감한 성격을 가지는 경우가 많으므로, GDPR, ISO 27001, HIPPA, FedRAMP 등 국제 산업 표준을 준수하는 것이 필수적입니다.

Azure는 이러한 규정을 충족하기 위해 데이터 암호화, 접근 제어, 감사 로그 관리, 보안 정책 자동화 기능을 제공하며, HPC 클러스터 운영자는 이를 기반으로 조직 내부 규정과 법적 요구사항을 통합 관리합니다. 또한, 정기적인 감사와 모니터링을 통해 규제 준수 상태를 확인하고, 변화하는 규정에 맞춰 정책을 갱신함으로써 HPC 환경의 신뢰성과 안전성을 확보합니다.

---

link:./03_hpc_on_azure.adoc[이전: Microsoft Azure의 HPC] |
link:./05_azure_hpc_architecture.adoc[다음: Microsoft Azure HPC 아키텍처]